# Getting Shipment Groups

Get Shipment Group	
Get Shipment Group by Custom Reference

allowing users to retrieve a specific version of the shipment_group corresponding to their custom_reference.

This endpoint is slightly different to other endpoints, as it is technically 2 different endpoints with 2 slightly different implementations.

The first route allows the user to automatically retrieve the latest version of a `shipment_group` with their own `custom_reference`.

For example, if a customer has three groups with the reference `GROUP_REF0123` and versions `0`, `1`, and `2` then this endpoint should automatically return the group with the version `2` (the latest group).

The second route has an *optional* version parameter. This allows the user to retrieve a specific version of a `shipment_group`, even when there are multiple `shipment_groups` with the same `custom_reference` value.

> [!TIP]
> This exists because `shipment_groups` may often be used to represent carriers’ trailers which may re-use references. If each `shipment_group` with the reference is closed before attempting to create another group, the reference may be re-used. With each re-use of the same `custom_reference`, Sorted must auto-increment the version of the created group. Consider the following example:

A customer creates a group with `custom_reference` `TRAILER_1234`. The group is used as normal and then closed. As this is the first occurrence of this `custom_reference`, Sorted automatically generates the value `1` for the `version` of this `custom_reference`.

The following day, the trailer with the reference `TRAILER_1234` is re-used. When this group is created, Sorted automatically adds the version value of `2` to the `shipment_group`.

A week later, the customer needs to retrieve the details of the first group but doesn’t have a record of the unique reference generated by Sorted. The customer can make an API call to `https://api.sorted.com/pro/shipment_groups/custom_reference/TRAILER_1234/1` to retrieve the first group, or `https://api.sorted.com/pro/shipment_groups/custom_reference/TRAILER_1234/2` to retrieve the second group.


Get Shipment Groups by Custom Reference

This endpoint allows a customer to retrieve a list of all `shipment_group` objects that have the provided `custom_reference`. Each `shipment_group` will have a unique reference which can then be used to retrieve the `shipment_group`. Alternatively, each `shipment_group` will have a unique `version` which can be used to retrieve that `shipment_group` using its `custom_reference` and `version`.

The following example demonstrates how this response should be generated:

```json
[
    {
        "reference": "sg_00013464648946915264789208891778",
        "custom_reference": "trl_009",
        "version": 1,
        "_links": [
            {
                "rel": "self",
                "href": "/pro/shipment_groups/sg_{ref}"
            },
            {
                "rel": "version",
                "href": "/pro/shipment_groups/custom_reference/trl_009/1"
            }
        ]
    },
    {
        "reference": "sg_00013464648946915264789208891788",
        "custom_reference": "trl_009",
        "version": 2,
        "_links": [
            {
                "rel": "self",
                "href": "/pro/shipment_groups/sg_{ref}"
            },
            {
                "rel": "version",
                "href": "/pro/shipment_groups/custom_reference/trl_009/2"
            }
        ]
    }
]
```

<script src="../../scripts/requesttabs.js"></script>
<script src="../../scripts/responsetabs.js"></script>
<script src="../../scripts/copy.js"></script>
