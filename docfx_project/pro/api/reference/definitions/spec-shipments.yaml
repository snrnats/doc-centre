openapi: 3.0.1
info:
  title: Sorted Shipments API
  version:
    $ref: ./shared.yaml#/version
  description:
    $ref: ./intro-shipments.yaml#/description
  contact:
    $ref: ./shared.yaml#/contact
servers:
  $ref: ./shared.yaml#/servers
paths:
  /shipments/allocate:
    put:
      tags:
        - Allocation
      summary: Allocate Shipments with Default Rules
      description: "This endpoint is used when you wish to allocate one or more `shipments` using Sorted's allocation engine. If you only require\r\nallocation of a single `shipment`, you should prefer the single Allocate Shipment endpoint.\r\n            \r\nWhen allocating using this endpoint, Sorted will automatically determine the most appropriate carrier service based on\r\nseveral factors, including:\r\n            \r\n- Configured shipping rules\r\n- Configured shipping modes\r\n- Required shipping dates (if specified)\r\n- Required delivery dates (if specified)\r\n- Carrier availability\r\n- Carrier service price"
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: An `allocate_request` which identifies which `shipments` should be allocated
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllocateRequest'
      responses:
        '202':
          description: The `shipments` have been queued for allocation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocateResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: No `shipment(s)` could be found with the provided reference(s)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '407':
          description: "One or more `shipments` have been allocated successfully, but one or more `shipments` could not be\r\nallocated. The response will include details of the status for relevant `shipments`."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment(s)` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/allocate/filters:
    put:
      tags:
        - Allocation
      summary: Allocate Shipments with Filters
      description: "This endpoint is used when you wish to allocate on or more `shipments` by selecting a carrier service\r\nthat matches the provided filters."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: An `allocate_with_filters_request` which allows you to specify filters to identify `shipments` to automatically allocate
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllocateWithFiltersRequest'
      responses:
        '202':
          description: One or more `shipments` have been identified and queued for allocation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateWithFiltersResult'
        '400':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment(s)` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/allocate/service:
    put:
      tags:
        - Allocation
      summary: Allocate Shipments with Carrier Service
      description: "This endpoint is used when you wish to allocate one or more `shipments` with a specific carrier service.\r\n            \r\n> Note: If you wish to allocate a single `shipment`, you should prefer the Allocate Shipment with\r\nCarrier Service endpoint."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: "An `allocate_with_carrier_service_request` which identifies which `shipments` should be allocated\r\nand the reference of the carrier service to be used"
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllocateWithCarrierServiceRequest'
      responses:
        '202':
          description: The `shipments` have been queued for allocation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocateResult'
        '207':
          description: "One or more `shipments` have been allocated successfully, but one or more `shipments` could not be\r\nallocated. The response will include details of the status for relevant `shipments`."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocateResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: "Either no `shipment(s)` could be found with the provided reference(s) or there is no carrier service\r\nwith the provided reference."
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment(s)` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/allocate/service_group:
    put:
      tags:
        - Allocation
      summary: Allocate Shipments with Service Group
      description: "This endpoint is used to allocate multiple `shipments` with a carrier service from a specific\r\n`service_group`.\r\n            \r\n> Note: When requesting allocation of multiple `shipments`, the allocation will not happen in-process.\r\nThis is to ensure the performance of the API endpoint. Any `shipments` allocated as a batch will be\r\nallocated via a background process."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: "An `allocate_with_service_group_request` which identifies the `shipments` to allocate and the\r\n`service_group` to allocate with."
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllocateWithServiceGroupRequest'
      responses:
        '202':
          description: The `shipments` have been queued for allocation
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocateResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: "No `shipments` could be found with the provided reference or a `service_group` could not be found\r\nwith the provided reference"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '407':
          description: "One or more `shipments` have been allocated successfully, but one or more `shipments` could not be\r\nallocated. The response will include details of the status for relevant `shipments`."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AllocateResult'
        '521':
          description: Allocation has failed - the `shipments` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/allocate/quote/{quoteReference}':
    put:
      tags:
        - Allocation
      summary: Allocate Shipment with Quote
      description: This endpoint is used when you wish to allocate a `shipment` with a specific pre-existing `quote`.
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to be allocated
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to be allocated
            example: sp_00880362751987348104831746179081
        - name: quoteReference
          in: path
          description: The reference of the previously-generated `quote`
          required: true
          schema:
            type: string
            description: The reference of the previously-generated `quote`
            example: qu_00880362752005794848905455730699
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been allocated with the `quote` successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590412942848345514377740296",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590412942848345514377740296 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590412942848345514377740296",
      "tracking_references": [
        "te_00883590412942848345514377740297"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590412942848345514377740298",
        "tracking_references": [
          "te_00883590412942848345514377740299"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590412942848345514377740296/pdf",
      "rel": "label",
      "reference": "sp_00883590412942848345514377740296",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590412942848345514377740296/zpl",
      "rel": "label",
      "reference": "sp_00883590412942848345514377740296",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590412942848345514377740296",
      "rel": "shipment",
      "reference": "sp_00883590412942848345514377740296",
      "type": "shipment"
    }
  ]
}
        '202':
          description: The `shipment` has been queued for allocation with the `quote`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590412961295089588087291904",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590412961295089588087291904 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590412961295089588087291904",
      "tracking_references": [
        "te_00883590412961295089588087291905"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590412961295089588087291906",
        "tracking_references": [
          "te_00883590412961295089588087291907"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590412961295089588087291904/pdf",
      "rel": "label",
      "reference": "sp_00883590412961295089588087291904",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590412961295089588087291904/zpl",
      "rel": "label",
      "reference": "sp_00883590412961295089588087291904",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590412961295089588087291904",
      "rel": "shipment",
      "reference": "sp_00883590412961295089588087291904",
      "type": "shipment"
    }
  ]
}
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found or the `quote` reference could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/allocate/service/{serviceReference}':
    put:
      tags:
        - Allocation
      summary: Allocate Shipment with Carrier Service
      description: This endpoint is used when you wish to allocate a `shipment` with a specific carrier service.
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to allocate
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to allocate
            example: sp_00880362751987348104831746179081
        - name: serviceReference
          in: path
          description: The reference of the carrier service to allocate with
          required: true
          schema:
            type: string
            description: The reference of the carrier service to allocate with
            example: CL_DNQ_WW_001
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been allocated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590413145762530325182808065",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590413145762530325182808065 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590413145762530325182808065",
      "tracking_references": [
        "te_00883590413145762530325182808066"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590413145762530325182808067",
        "tracking_references": [
          "te_00883590413145762530325182808068"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413145762530325182808065/pdf",
      "rel": "label",
      "reference": "sp_00883590413145762530325182808065",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413145762530325182808065/zpl",
      "rel": "label",
      "reference": "sp_00883590413145762530325182808065",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590413145762530325182808065",
      "rel": "shipment",
      "reference": "sp_00883590413145762530325182808065",
      "type": "shipment"
    }
  ]
}
        '202':
          description: The `shipment` has been queued for allocation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590413145762530325182808069",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590413145762530325182808069 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590413145762530325182808069",
      "tracking_references": [
        "te_00883590413145762530325182808070"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590413145762530325182808071",
        "tracking_references": [
          "te_00883590413145762530325182808072"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413145762530325182808069/pdf",
      "rel": "label",
      "reference": "sp_00883590413145762530325182808069",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413145762530325182808069/zpl",
      "rel": "label",
      "reference": "sp_00883590413145762530325182808069",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590413145762530325182808069",
      "rel": "shipment",
      "reference": "sp_00883590413145762530325182808069",
      "type": "shipment"
    }
  ]
}
        '400':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: No `shipment` could be found with the provided reference or the carrier service reference provided does not exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/allocate/service_group/{groupReference}':
    put:
      tags:
        - Allocation
      summary: Allocate Shipment with Service Group
      description: This endpoint is used to allocate a `shipment` with a carrier service from a specific service group.
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to allocate
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to allocate
            example: sp_00880362751987348104831746179081
        - name: groupReference
          in: path
          description: The reference of the carrier service group to allocate with
          required: true
          schema:
            type: string
            description: The reference of the carrier service group to allocate with
            example: sg_00880362751895114384463198421005
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been allocated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590413311783226988568772616",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590413311783226988568772616 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590413311783226988568772616",
      "tracking_references": [
        "te_00883590413311783226988568772617"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590413311783226988568772618",
        "tracking_references": [
          "te_00883590413311783226988568772619"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413311783226988568772616/pdf",
      "rel": "label",
      "reference": "sp_00883590413311783226988568772616",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413311783226988568772616/zpl",
      "rel": "label",
      "reference": "sp_00883590413311783226988568772616",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590413311783226988568772616",
      "rel": "shipment",
      "reference": "sp_00883590413311783226988568772616",
      "type": "shipment"
    }
  ]
}
        '202':
          description: The `shipment` has been queued for allocation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590413330229971062278324224",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590413330229971062278324224 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590413330229971062278324224",
      "tracking_references": [
        "te_00883590413330229971062278324225"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590413330229971062278324226",
        "tracking_references": [
          "te_00883590413330229971062278324227"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413330229971062278324224/pdf",
      "rel": "label",
      "reference": "sp_00883590413330229971062278324224",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413330229971062278324224/zpl",
      "rel": "label",
      "reference": "sp_00883590413330229971062278324224",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590413330229971062278324224",
      "rel": "shipment",
      "reference": "sp_00883590413330229971062278324224",
      "type": "shipment"
    }
  ]
}
        '400':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: Forbidden
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: No `shipment` could be found with the provided reference or the service group reference provided does not exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/allocate/virtual_service/{virtualService}':
    put:
      tags:
        - Allocation
      summary: Allocate Shipment with Virtual Service
      description: "This endpoint is used to allocate a `shipment` with a specific carrier service or service group, depending\r\nupon the reference provided.\r\n\r\n> The term \"virtual service\" is used here to indicate that the provided reference can refer to multiple\r\ntypes of entity such as a carrier service or a carrier service group. This functionality may be\r\nextended in the future to include other types of virtual service."
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to allocate
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to allocate
            example: sp_00880362751987348104831746179081
        - name: virtualService
          in: path
          description: The reference of the carrier service or carrier service group to allocate with
          required: true
          schema:
            type: string
            description: The reference of the carrier service or carrier service group to allocate with
            example: CL_DNQ_WW_002
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been allocated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AllocateResult'
              example: {
  "shipment_reference": "sp_00883590413496250667725664288768",
  "state": "allocated",
  "price": {
    "net": 10.0,
    "gross": 12.0,
    "taxes": [
      {
        "rate": {
          "reference": "gb_standard",
          "country_iso_code": "GB",
          "type": "standard",
          "value": 0.2
        },
        "amount": 0.0
      }
    ],
    "currency": "GBP"
  },
  "message": "Shipment sp_00883590413496250667725664288768 has been allocated successfully",
  "carrier": {
    "reference": "DNQ",
    "name": "DNQ Worldwide",
    "service_reference": "DNQ72",
    "service_name": "DNQ 72-Hour Express"
  },
  "tracking_details": {
    "shipment": {
      "reference": "sp_00883590413496250667725664288768",
      "tracking_references": [
        "te_00883590413496250667725664288769"
      ],
      "_links": []
    },
    "contents": [
      {
        "reference": "sc_00883590413496250667725664288770",
        "tracking_references": [
          "te_00883590413496250667725664288771"
        ],
        "_links": []
      }
    ]
  },
  "_links": [
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413496250667725664288768/pdf",
      "rel": "label",
      "reference": "sp_00883590413496250667725664288768",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/labels/sp_00883590413496250667725664288768/zpl",
      "rel": "label",
      "reference": "sp_00883590413496250667725664288768",
      "type": "label"
    },
    {
      "href": "https://api.sorted.com/pro/shipments/sp_00883590413496250667725664288768",
      "rel": "shipment",
      "reference": "sp_00883590413496250667725664288768",
      "type": "shipment"
    }
  ]
}
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to allocate `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: "No `shipment` could be found with the provided reference or a service group or service could not be found\r\nwith the provided reference"
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '521':
          description: Allocation has failed - the `shipment` could not be allocated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/cancel':
    put:
      tags:
        - Shipments
      summary: Cancel Shipment
      description: "This endpoint is used to cancel a `shipment`, including cancelling a booking with a carrier. A `shipment`\r\ncannot be cancelled once it has been `manifested` with a carrier.\r\n            \r\n> Note: The `state` of `cancelled` is a _terminal_ `state`, i.e. a `shipment` can no longer be updated\r\nor changed once it has been cancelled, other than deleting the `shipment`."
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to cancel
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to cancel
            example: sp_00880362751987348104831746179081
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been cancelled successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '202':
          description: The request to cancel the `shipment` has been received successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to cancel a `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '409':
          description: The `shipment` is not in a valid state to be cancelled
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipment_groups/{shipmentGroupReference}/close':
    post:
      tags:
        - Shipment Groups
      summary: Close Shipment Group
      description: "Closing a `shipment_group` prevents any further changes or operations to the `shipment_group`, other than retrieving its details.\r\n            \r\n> Note: A `shipment_group` must be `locked` before it can be `closed`.\r\n>\r\n> The close operation is not reversible."
      parameters:
        - name: shipmentGroupReference
          in: path
          description: The `reference` of the `shipment_group` to close
          required: true
          schema:
            type: string
            description: The `reference` of the `shipment_group` to close
            example: sg_00880362752005794848905455730688
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment_group` has been closed successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to close the `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment_group` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '409':
          description: 'There is a conflict that prevents the `shipment_group` from being `closed`, e.g. it has not yet been `locked`'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/quote:
    post:
      tags:
        - Quotes
      summary: Create Quote
      description: "This endpoint is used to retrieve a list of carrier services that are capable of carrying a `shipment`,\r\nbased on the properties of the `shipment` such as `dimensions`, `weight`, `addresses` and delivery promise.\r\n`Quotes` will be generated according to the \"default rules\" in the customer's account.\r\n            \r\n> Note: although not used to create an actual `shipment`, this endpoint uses the same request type\r\n(`create_shipment_request`) as the Create Shipment operation in order to allow customers to re-use the\r\nsame object in the flow: create `quote`, identify suitable `quote`, create `shipment`, allocate `shipment`."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: A `create_shipment_request`
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateShipmentRequest'
      responses:
        '201':
          description: The request was successful. The response will include the `quote` details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuoteResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to create `quotes`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '531':
          description: The request was valid but there are no `quotes` available.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments:
    post:
      tags:
        - Shipments
      summary: Create Shipment
      description: This endpoint is used to create new `shipments` within SortedPRO.
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: A `create_shipment_request`
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateShipmentRequest'
      responses:
        '201':
          description: The `shipment` has been created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to create a `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipment_groups:
    post:
      tags:
        - Shipment Groups
      summary: Create Shipment Group
      description: "A `shipment_group` is a group of one or more `shipments` that can be operated on together. For example, if a driver is due to\r\ncome and collect a group of `shipments` together, you can create a `shipment_group` for the `shipments` and then produce a\r\n`collection_note` and manage the `state` of all the `shipments` within the group together."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: A `create_shipment_request` containing details of `shipments` to add to the group
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateShipmentGroupRequest'
      responses:
        '201':
          description: The `shipment_group` has been created successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShipmentGroupResponse'
        '207':
          description: The `shipment_group` has been created successfully but one or more `shipments` could not be added to the group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShipmentGroupResponse'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to create a `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: One or more `shipments` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
    put:
      tags:
        - Shipment Groups
      summary: Update Shipment Group
      description: This endpoint allows you to add or remove `shipments` from a `shipment_group`. You may also update or remove the `custom_reference` applied to the `shipment_group`.
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: An `update_shipment_group_request`
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateShipmentGroupRequest'
      responses:
        '200':
          description: The `shipment_group` has been updated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShipmentGroupResponse'
        '207':
          description: The `shipment_group` has been updated successfully but one or more `shipments` could not be added to the group.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShipmentGroupResponse'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to update a `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment_group` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '409':
          description: The `shipment_group` is locked or closed and cannot be updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}':
    delete:
      tags:
        - Shipments
      summary: Delete Shipment
      description: "This endpoint should be used when you wish to completely remove a `shipment` and all of its history\r\nfrom Sorted. This is an irreversible operation - once a `shipment` has been deleted it cannot be\r\nrecovered.\r\n            \r\n> Note: it is only possible to delete a `shipment` once it has been `cancelled`. If you attempt to delete\r\na `shipment` that has _not_ been cancelled, you will receive a `400 (Bad Request)` response."
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to delete
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to delete
            example: sp_00880362751987348104831746179081
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment` has been deleted successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '202':
          description: The request to delete the `shipment` has been received and will be processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to delete a `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
    get:
      tags:
        - Shipments
      summary: Get Shipment
      description: This endpoint is used to retrieve the details of an existing `shipment`.
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to retrieve
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to retrieve
            example: sp_00880362751987348104831746179081
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The request was successful. The response will include the details of the `shipment`.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Shipment'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to retrieve the `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/labels/{shipmentReference}/{contentType}/{dpi}':
    get:
      tags:
        - Labels
      summary: Get Labels
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to retrieve the labels for
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to retrieve the labels for
        - name: contentType
          in: path
          description: The format of document to return
          required: true
          schema:
            $ref: '#/components/schemas/ContentType'
        - name: dpi
          in: path
          description: The dpi of the document to return. Has a default value of `203`
          required: true
          schema:
            type: integer
            description: The dpi of the document to return. Has a default value of `203`
            format: int32
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The request was successful. The response will include the label
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Document'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to retrieve labels for a `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/labels/{shipmentReference}/contents/{contentsReference}/{contentType}/{dpi}':
    get:
      tags:
        - Labels
      summary: Get Contents Label
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to retrieve the label for
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to retrieve the label for
            example: sp_00880362751987348104831746179081
        - name: contentsReference
          in: path
          description: The reference of the `shipment_contents` to retrieve the label for
          required: true
          schema:
            type: string
            description: The reference of the `shipment_contents` to retrieve the label for
            example: sc_00880363564234345002132734890212
        - name: contentType
          in: path
          description: The format of document to return
          required: true
          schema:
            $ref: '#/components/schemas/ContentType'
        - name: dpi
          in: path
          description: The dpi of the document to return
          required: true
          schema:
            type: integer
            description: The dpi of the document to return
            format: int32
            example: 203
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The request was successful. The response will include the label
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Document'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to retrieve labels for a `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/manifests/{manifestReference}':
    get:
      tags:
        - Manifest
      summary: Get Manifest
      description: This endpoint can be used to retrieve the details of an existing `manifest`.
      parameters:
        - name: manifestReference
          in: path
          description: The reference of the `manifest` to retrieve
          required: true
          schema:
            type: string
            description: The reference of the `manifest` to retrieve
            example: ma_00880362751987348104831746179082
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `manifest` has been found. The response contains the details of the `manifest`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Manifest'
        '403':
          description: You do not have permission to access the `manifest`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `manifest` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/quote':
    post:
      tags:
        - Quotes
      summary: Get Quote
      description: "This endpoint is used to retrieve a list of allocation options for an existing `shipment`. Each `quote`\r\nreturned will include a unique reference that allows the specific `quote` to be used for allocation."
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to retrieve `quotes` for
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to retrieve `quotes` for
            example: sp_00880362751987348104831746179081
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '201':
          description: The request was successful. The response will include the available `quotes`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/QuoteResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to retrieve the `shipment` or generate `quotes`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '531':
          description: The request was valid but no `quotes` could be found for the `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipment_groups/{shipmentGroupReference}':
    get:
      tags:
        - Shipment Groups
      summary: Get Shipment Group
      description: Retrieve the details of an existing shipment_group
      parameters:
        - name: shipmentGroupReference
          in: path
          description: The `reference` of the `shipment_group` to retrieve
          required: true
          schema:
            type: string
            description: The `reference` of the `shipment_group` to retrieve
            example: sg_00880362752005794848905455730688
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment_group` has been located successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ShipmentGroup'
        '403':
          description: You do not have permission to retrieve a `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment_group` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipment_groups/{shipmentGroupReference}/lock':
    post:
      tags:
        - Shipment Groups
      summary: Lock Shipment Group
      description: "This operation places a virtual \"lock\" on a `shipment_group` which prevents any further changes to the group until the group is \"unlocked\".\r\n            \r\nIt is still possible to retrieve a `collection_note` for the group, but `shipments` cannot be added or removed from the group."
      parameters:
        - name: shipmentGroupReference
          in: path
          description: The reference of the `shipment_group` to lock
          required: true
          schema:
            type: string
            description: The reference of the `shipment_group` to lock
            example: sg_00880362752005794848905455730688
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment_group` has been locked successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '403':
          description: You do not have permission to lock a `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment_group` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '409':
          description: The `shipment_group` is already locked or is closed and cannot be locked
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipment_groups/{shipmentGroupReference}/unlock':
    post:
      tags:
        - Shipment Groups
      summary: Unlock a Shipment Group
      description: "This operation removes a virtual \"lock\" from a `shipment_group` which prevents any further changes to the group until the group is \"unlocked\".\r\n            \r\nUnlocking makes it possible to add or remove `shipments` from the group."
      parameters:
        - name: shipmentGroupReference
          in: path
          description: The reference of the `shipment_group` to unlock
          required: true
          schema:
            type: string
            description: The reference of the `shipment_group` to unlock
            example: sg_00880362752005794848905455730688
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '200':
          description: The `shipment_group` has been unlocked successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '403':
          description: You do not have permission to unlock a `shipment_group`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment_group` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '409':
          description: The `shipment_group` is already unlocked or is closed and cannot be locked
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  '/shipments/{shipmentReference}/manifest':
    put:
      tags:
        - Manifest
      summary: Manifest Shipment
      description: "This endpoint is used to manually manifest an individual `shipment`.\r\n            \r\n> Note: depending on the `shipment_type` and carrier service, not all `shipments` require a manifest\r\noperation."
      parameters:
        - name: shipmentReference
          in: path
          description: The reference of the `shipment` to manifest
          required: true
          schema:
            type: string
            description: The reference of the `shipment` to manifest
            example: sp_00880362751987348104831746179081
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      responses:
        '202':
          description: The `shipment` has been queued for manifest successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManifestResponse'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to access the `shipment` or to manifest `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/manifest:
    put:
      tags:
        - Manifest
      summary: Manifest Shipments
      description: Manifest multiple shipments
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: A `manifest_request` which identifies the `shipments` to be manifested
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ManifestRequest'
      responses:
        '202':
          description: The `shipments` have been queued for manifest successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ManifestResponse'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to access or manifest `shipments`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: One or more `shipments` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
  /shipments/state:
    put:
      tags:
        - Shipments
      summary: Change Shipment State
      description: "This endpoint can be used to manually change the `state` of a `shipment` to the provided value.\r\n            \r\n> Note: `shipment` `state` changes are controlled via a state machine which only allows certain `state`\r\ntransitions. For instance, you cannot transition a `shipment` from a `state` of `unallocated` to `allocated`\r\n- this `state` change can only be carried out by the Sorted platform as a result of a successful allocation.\r\nThis endpoint is provided to enable you to change the `state` of a `shipment` due to exceptional\r\ncircumstances, not as part of a standard workflow. Audit messages may be logged for all `state` transitions\r\nand will include details of the change initiator."
      parameters:
        - name: x-api-version
          in: header
          description: The version of the API to use.  Version `1.1` should be supplied with all requests.
          required: true
          style: simple
          schema:
            type: string
            description: The version of the API to use. Version `1.1` should be supplied with all requests.
      requestBody:
        description: A `shipment_state_change_request`
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShipmentStateChangeRequest'
      responses:
        '200':
          description: The `state` has been updated successfully.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '202':
          description: The request to update the `state` has been received successfully and will be processed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ResourceResult'
        '400':
          description: There is a validation error in your request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '403':
          description: You do not have permission to change the `state` of the `shipment`
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '404':
          description: The `shipment` could not be found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '304':
          description: The `state` of the `shipment` has not been modified - the current `state` matches the `desired` state already
components:
  schemas:
    AllocateRequest:
      required:
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 100
          minItems: 1
          type: array
          items:
            type: string
          description: "The reference(s) of the `shipment(s)` to be allocated.\r\n            \r\nAt least one valid reference must be provided. A maximum of 100 `shipments` can be allocated at once using\r\nthis method. This is to ensure the continued optimal performance of the Sorted platform."
      additionalProperties: false
      description: "An `allocate_request` is used to request allocation of one or more `shipments` with a carrier. This object is\r\nintended for use when allowing Sorted's allocation engine to determine the most appropriate carrier based on:\r\n            \r\n- Configured allocation/shipping rules\r\n- Configured shipping modes\r\n- Carrier availability for required shipping and/or delivery dates\r\n- The price of each carrier service"
    ShipmentState:
      enum:
        - unallocated
        - allocating
        - allocation_failed
        - allocated
        - manifesting
        - manifest_failed
        - manifested
        - booking
        - booking_failed
        - booked
        - dispatched
        - at_drop_off_point
        - in_transit
        - delayed
        - out_for_delivery
        - delivery_failed
        - delivery_failed_card_left
        - delivered
        - partially_delivered
        - at_collection_point
        - returned_to_sender
        - action_required
        - missing
        - lost
        - damaged
        - cancelling
        - cancelled
        - in_transit_waiting
        - held_by_carrier
        - exchange_failed
        - at_customs
        - delivered_damaged
        - carrier_collected
        - customer_collected
        - carrier_collection_failed
        - customer_collection_failed
        - at_customer_collection_point
        - ready_to_ship
        - exchange_succeeded
        - awaiting_drop_off
        - carrier_changed
        - cleared_customs
        - destroyed
      type: string
      description: "Every `shipment` in Sorted has a `state` associated with it. Sorted manages `shipment` `states` by virtue of\r\na set of rules that determine transition rules between `states`."
    TaxRate:
      required:
        - country_iso_code
        - reference
        - type
        - value
      type: object
      properties:
        reference:
          type: string
          description: Sorted's unique reference for this `tax_rate`
        country_iso_code:
          maxLength: 2
          minLength: 2
          type: string
          description: The 2-character ISO code for the country to which this rate applies.
        type:
          type: string
          description: 'The type of rate, e.g. `standard`, `reduced`, `zero`'
        value:
          type: number
          description: 'The value element of the `tax_rate`. This is expressed as a proportion of 1, e.g. `0.175 == 17.5%`'
          format: double
      additionalProperties: false
      description: This object provides details of the `tax_rate` applied to `tax`
    Tax:
      required:
        - amount
        - rate
      type: object
      properties:
        rate:
          $ref: '#/components/schemas/TaxRate'
        amount:
          type: number
          description: The amount of `tax`
          format: double
      additionalProperties: false
      description: 'The `tax` object provides details of any applicable taxes, including the type and amount of `tax`.'
    Price:
      required:
        - currency
        - gross
        - net
      type: object
      properties:
        net:
          type: number
          description: 'The price for this service exclusive of tax, in the provided `currency`.'
          format: double
        gross:
          type: number
          description: 'The price for this service inclusive of tax, in the provided `currency`.'
          format: double
        taxes:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Tax'
          description: The applicable tax for this `price`
          nullable: true
        currency:
          maxLength: 3
          minLength: 3
          type: string
          description: The 3-character ISO code of the currency
      additionalProperties: false
      description: "The `price` object provides details of the `net` and `gross` price for a service, including\r\ncurrency and tax details."
    CarrierDetails:
      type: object
      properties:
        reference:
          maxLength: 50
          type: string
          description: The Sorted reference for this carrier.
          nullable: true
        name:
          type: string
          description: The name of this carrier.
          nullable: true
        service_reference:
          maxLength: 50
          type: string
          description: "The Sorted reference for this carrier service. Customers will have a `service_reference` that is unique\r\nto them for each carrier service."
          nullable: true
        service_name:
          type: string
          description: The friendly name for this carrier service.
          nullable: true
      additionalProperties: false
      description: "The `carrier_details` object provides details of a carrier and carrier service and is usually (but not\r\nalways) linked to an `allocation`."
    Link:
      required:
        - href
        - rel
        - type
      type: object
      properties:
        href:
          type: string
          description: The URL of the resource
        rel:
          type: string
          description: "A string representing the relationship of the linked resource to the current resource. For example, a\r\n`link` to a `shipment` will have a value of `shipment`. Links to the current object will have a `rel` of\r\n`self`."
        reference:
          type: string
          description: "When a `link` is a pointer to a resource with a unique reference, this property will contain the reference.\r\nFor instance, a `link` for a `shipment` will contain the `shipment's` reference in this field."
          nullable: true
        type:
          type: string
          description: The type of resource that this `link` points to.
      additionalProperties: false
      description: "A `link` object that provides a pointer to a resource. Links are provided, for example, following the\r\ncreation of a new resource (such as a `shipment`). The `link` will provide access to the created resource."
    TrackingReference:
      required:
        - reference
      type: object
      properties:
        reference:
          type: string
          description: 'The unique reference for this object. For a `shipment`, this will be the reference of the `shipment`.'
        tracking_references:
          minItems: 0
          type: array
          items:
            type: string
          description: The tracking reference(s) assigned by the carrier.
          nullable: true
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Any applicable links for this object.
          nullable: true
      additionalProperties: false
      description: This object provides details of tracking references for a `shipment` or `shipment_contents`.
    TrackingDetails:
      required:
        - shipment
      type: object
      properties:
        shipment:
          $ref: '#/components/schemas/TrackingReference'
        contents:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/TrackingReference'
          description: 'The tracking reference(s), if applicable, for the `shipment_contents`.'
          nullable: true
      additionalProperties: false
      description: "This object provides details of tracking provided by the carrier at the point of allocation. Depending on\r\nthe carrier, tracking references may be provided for the whole `shipment`, or for the whole `shipment` and/or\r\nfor individual `shipment_contents`."
    ApiErrorMessage:
      required:
        - code
        - message
      type: object
      properties:
        property:
          type: string
          description: "The path to the affected property, if applicable.\r\n            \r\n> Note: this will be expressed in JSON Path format e.g. `$.addresses[0].address_type` indicates an issue\r\nwith the property `address_type` for the first provided address."
          nullable: true
        message:
          type: string
          description: A plain-text summary of the error.
        code:
          type: string
          description: A pre-defined code for this error.
      additionalProperties: false
      description: The `api_error_message` object provides further information relating to errors.
    ApiError:
      required:
        - code
        - correlation_id
        - message
        - reference
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: A unique reference for this error
        correlation_id:
          type: string
          description: "The correlation id for this error. Customers can use this property when reporting issues to Sorted and this\r\nwill aid with problem discovery and resolution."
        code:
          type: string
          description: A pre-defined `code` for this error.
        message:
          type: string
          description: A plain-text summary of the error.
        details:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/ApiErrorMessage'
          description: 'A collection of `api_error_messages` which provide further details of the error(s), if applicable.'
          nullable: true
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Provides links to further relevant information such as links to documentation.
          nullable: true
      additionalProperties: false
      description: "This object is returned by Sorted whenever an error occurs during a request. Errors can have many causes, such\r\nas badly-formed requests, incorrect permissions, or unforeseen issues during request processing."
    ExclusionCode:
      enum:
        - ex_other
        - ex_availability
        - ex_rates
        - ex_contents
        - ex_weight
        - ex_dims
        - ex_rules
        - ex_timeout
        - ex_circuit_open
        - ex_error
        - ex_sys_disabled
      type: string
      description: Describes the reason that a carrier service was excluded from a quote or allocation
    Exclusion:
      required:
        - code
        - reason
      type: object
      properties:
        reason:
          type: string
          description: A plain-text reason for the exclusion of this carrier or carrier service.
        code:
          $ref: '#/components/schemas/ExclusionCode'
      additionalProperties: false
      description: "The `exclusion` object provides details of the reasons for exclusion of a carrier or carrier service\r\nwhen generating quotes."
    ExcludedService:
      required:
        - carrier
        - exclusion
      type: object
      properties:
        carrier:
          $ref: '#/components/schemas/CarrierDetails'
        exclusion:
          $ref: '#/components/schemas/Exclusion'
      additionalProperties: false
      description: "The `excluded_service` object provides details of carrier services that were unable to provide quotes. There\r\nare many reasons why a carrier service may not be able to provide a quote for any given shipment, and this\r\nobject provides high-level details."
    PaperlessUsage:
      enum:
        - not_supported
        - electronic_only
        - electronic_and_physical
        - not_applicable
      type: string
      description: Specifies how paperless file uploads should be handled following a successful allocation.
    PaperlessDocuments:
      type: object
      properties:
        sent_to_carrier:
          type: boolean
          description: Specifies whether or not the paperless documents were transmitted to the carrier
        usage_type:
          $ref: '#/components/schemas/PaperlessUsage'
      additionalProperties: false
      description: "This object is returned as part of an `allocate_result` and indicates how Sorted have used any applicable\r\npaperless documents when allocating a `shipment` with a carrier"
    AllocateResult:
      required:
        - correlation_id
        - shipment_reference
        - state
      type: object
      properties:
        shipment_reference:
          maxLength: 35
          minLength: 35
          type: string
          description: The reference of the `shipment` that the result relates to.
        state:
          $ref: '#/components/schemas/ShipmentState'
        price:
          $ref: '#/components/schemas/Price'
        message:
          type: string
          description: "A plain-text message describing the result of the allocation attempt.\r\n            \r\n> Note: this should _not_ be used for application logic - use `state` to determine the success of the\r\noperation."
          nullable: true
        carrier:
          $ref: '#/components/schemas/CarrierDetails'
        tracking_details:
          $ref: '#/components/schemas/TrackingDetails'
        _links:
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Links to any related resources such as `labels` or the `shipment`.
          nullable: true
        correlation_id:
          type: string
          description: A correlation id for this operation. This is useful in troubleshooting scenarios.
        details:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/ApiError'
          description: 'Details of errors, if applicable.'
          nullable: true
        excluded_services:
          type: array
          items:
            $ref: '#/components/schemas/ExcludedService'
          description: "Details of excluded services, i.e. carrier services that are active in your account but who have not\r\nbeen able to provide a quote for this `shipment`."
          nullable: true
        paperless_documents:
          $ref: '#/components/schemas/PaperlessDocuments'
      additionalProperties: false
      description: "An `allocate_result` is returned for all requests to allocate a `shipment`. The object contains details of the operation\r\nresult, as well as the details of the allocation or, in the case of a failed allocation, details of the allocation failure."
    AllocationFilters:
      required:
        - direction
      type: object
      properties:
        direction:
          type: string
          description: The `direction` of the carrier services to select.
        tags:
          maxItems: 10
          minItems: 0
          type: array
          items:
            type: string
          description: "Filter carrier services to exclude any carrier services that do not have a 100% tag match.\r\nAll tags will be considered, and a service must have _all_ provided tags in order to be eligible for\r\nselection."
          nullable: true
        pickup:
          type: boolean
          description: "Indicates whether to include pick-up services or not (i.e. services where the consumer will collect\r\nthe `shipment` from a location)"
          nullable: true
        drop_off:
          type: boolean
          description: "Indicates whether to include drop-off services or not (i.e. services where the consumer will receive\r\nthe `shipment` to their location)."
          nullable: true
      additionalProperties: false
      description: "The `allocation_filters` object is used to selectively pre-filter carrier services prior to executing\r\nan allocation."
    AllocateWithFiltersRequest:
      required:
        - filters
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 100
          minItems: 1
          type: array
          items:
            type: string
          description: "At least one valid reference must be provided. A maximum of 100 `shipments` can be allocated at once\r\nusing this method. This is to ensure continued optimal performance of the Sorted platform."
        filters:
          $ref: '#/components/schemas/AllocationFilters'
      additionalProperties: false
      description: The `allocate_with_filters_request` is designed to allow a flexible method for allocating `shipments`.
    AllocateWithFiltersResult:
      required:
        - message
        - reference
      type: object
      properties:
        reference:
          type: string
          description: A unique reference for this result
        shipments:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: "Provides the references of (and links to) the `shipments` identified by the filters. Each `shipment`\r\nwill have been submitted for allocation."
          nullable: true
        message:
          type: string
          description: A plain-text message describing the result of the operation.
      additionalProperties: false
      description: Provides details of `shipments` identified and submitted by an `allocate_with_filters_request`.
    AllocateWithCarrierServiceRequest:
      required:
        - carrier_service_reference
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 100
          minItems: 1
          type: array
          items:
            type: string
          description: The reference(s) of the `shipment(s)` to be allocated.
        carrier_service_reference:
          minLength: 1
          type: string
          description: The reference of the carrier service to allocate the `shipments` with.
      additionalProperties: false
      description: "The `allocate_with_carrier_service_request` is designed to facilitate allocate one or more `shipments`\r\nwith a specific carrier service. The cheapest option for that carrier service will automatically\r\nbe selected using this method."
    AllocateWithServiceGroupRequest:
      required:
        - service_group
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 100
          minItems: 1
          type: array
          items:
            type: string
          description: The reference(s) of the `shipment(s)` to be allocated.
        service_group:
          minLength: 1
          type: string
          description: The reference of the carrier service group to allocate the `shipments` with.
      additionalProperties: false
      description: "The `allocate_with_service_group_request` is designed to facilitate allocating one or more `shipments`\r\nwith a carrier from a specific `service_group`. A `service_group` is a collection of one or more carrier\r\nservices that you can configure. The cheapest available service in a group will automatically be\r\nselected using this method."
    ResourceResult:
      required:
        - reference
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: The unique reference for this resource generated by Sorted at the point of creation.
        custom_reference:
          type: string
          description: 'Your own custom reference for this object, if applicable.'
          nullable: true
        message:
          type: string
          description: An optional message relating to the result of the operation.
          nullable: true
        version:
          type: integer
          description: 'An optional version for this resource, if applicable.'
          format: int32
          nullable: true
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: 'Links to the current resource and any related resources, if applicable.'
          nullable: true
      additionalProperties: false
      description: A `resource_result` is generally returned for all successful requests to create or modify resources.
    DateRange:
      type: object
      properties:
        start:
          type: string
          description: "The start of the date period, inclusive.\r\n            \r\nIf provided, must be prior to or equal to `end`"
          format: date-time
          nullable: true
        end:
          type: string
          description: "The end of the date period, inclusive.\r\n            \r\nIf provided, must be later than or equal to `start`"
          format: date-time
          nullable: true
        has_value:
          type: boolean
          description: "Indicates whether the object has a value or not.\r\n            \r\nNot applicable to requests."
          readOnly: true
      additionalProperties: false
      description: "The `date_range` object is used to indicate a period of time. The object may include any combination of\r\nvalues:\r\n            \r\n- A `start` and `end` indicates a complete range of dates (inclusive)\r\n- A `start` **only** indicates an open-ended date range, starting from a particular date (inclusive)\r\n- An `end` **only** indicates a date range with a fixed endpoint (inclusive)"
    MetadataType:
      enum:
        - 'null'
        - string
        - bool
        - date_time_offset
        - integer
        - decimal
        - url
      type: string
      description: "This property is used to indicate the type of value provided within a particular `metadata` item. This may be\r\nused by future Sorted features to enable logic-based operations on provided `metadata`.  If not provided, the\r\nvalue of `metadata_type` will default to `string`"
    Metadata:
      required:
        - key
        - type
        - value
      type: object
      properties:
        key:
          maxLength: 50
          minLength: 1
          type: string
          description: The key of this `metadata` item.
        value:
          maxLength: 100
          minLength: 1
          type: string
          description: The value of this `metadata` item
        type:
          type: string
          description: "The type of this `metadata` item, e.g. `string`, `bool`, `date_time_offset`, `integer`, `decimal`, `url`.\r\n            \r\nIf provided, must be a valid metadata type. Will default to `string` if not provided."
        metadata_type:
          $ref: '#/components/schemas/MetadataType'
      additionalProperties: false
      description: "`Metadata` is used in SortedPRO as a collection of properties that customers define, rather than fixed fields\r\nor properties defined by Sorted. SortedPRO may include functional extensions in the future that provide\r\nnew functionality based on `metadata`."
    TotalCustomsValue:
      required:
        - amount
        - currency
      type: object
      properties:
        amount:
          type: number
          description: The amount of the value
          format: double
        currency:
          minLength: 1
          type: string
          description: The currency of the amount
      additionalProperties: false
      description: Indicates the total value of the goods within a `shipment` for customs declaration purposes
    CustomsDocumentation:
      required:
        - category_type
      type: object
      properties:
        designated_person_responsible:
          maxLength: 100
          type: string
          description: The name of the person responsible for the `shipment_contents`.
          nullable: true
        importers_vat_number:
          maxLength: 50
          type: string
          description: 'The VAT number of the importer, if applicable.'
          nullable: true
        category_type:
          type: string
          description: "Indicates the category of goods for customs purposes.\r\n            \r\nMust be a valid `category_type` (`other`, `commercial_sample`, `gift`, `returned_goods`, `documents`)"
        category_type_explanation:
          maxLength: 100
          type: string
          description: Free text explanation indicating the reason for the selection of the `category_type`.
          nullable: true
        shippers_customs_reference:
          maxLength: 50
          type: string
          description: 'The shipper''s customs reference, if known.'
          nullable: true
        importers_tax_code:
          maxLength: 25
          type: string
          description: 'The importer''s tax code, if known.'
          nullable: true
        importers_telephone:
          maxLength: 25
          type: string
          description: 'The importer''s telephone number, if known.'
          nullable: true
        importers_fax:
          maxLength: 25
          type: string
          description: 'The importer''s fax number, if known.'
          nullable: true
        importers_email:
          maxLength: 100
          type: string
          description: 'The importer''s email address, if known.'
          nullable: true
        cn23_comments:
          maxLength: 500
          type: string
          description: Comments used to populate section 11 of CN23 customs documentation.
          nullable: true
        attached_invoice_references:
          maxItems: 20
          type: array
          items:
            type: string
          description: A list of zero or more attached invoice references.
          nullable: true
        attached_certificate_references:
          maxItems: 20
          type: array
          items:
            type: string
          description: A list of zero or more attached certificate references.
          nullable: true
        attached_licence_references:
          maxItems: 20
          type: array
          items:
            type: string
          description: A list of zero or more attached licence references.
          nullable: true
        declaration_date:
          type: string
          description: "The date and time of the customs declaration.\r\n            \r\nIf not known, will default to the date and time of the creation of the `shipment` (UTC)."
          format: date-time
          nullable: true
        reason_for_export:
          maxLength: 100
          type: string
          description: The reason for export of the goods contained in the `shipment`
          nullable: true
        shippers_vat_number:
          maxLength: 50
          type: string
          description: 'The shipper''s VAT number, if known.'
          nullable: true
        receivers_tax_code:
          maxLength: 25
          type: string
          description: 'The receiver''s tax code, if known.'
          nullable: true
        receivers_vat_number:
          maxLength: 50
          type: string
          description: 'The receiver''s VAT number, if known.'
          nullable: true
        invoice_date:
          type: string
          description: "The date and time of the invoice for the goods.\r\n            \r\nIf not provided, will default to the date and time of the creation of the `shipment`."
          format: date-time
          nullable: true
        eori_number:
          maxLength: 15
          minLength: 1
          type: string
          description: The sender's EORI (Economic Operators Registration and Identification) number.
        invoice_number:
          maxLength: 50
          type: string
          description: 'The invoice number, if applicable.'
          nullable: true
        office_of_origin:
          maxLength: 50
          type: string
          description: 'The office of origin ([Madrid Protocol](https://en.wikipedia.org/wiki/Madrid_system))'
          nullable: true
        total_customs_value:
          $ref: '#/components/schemas/TotalCustomsValue'
      additionalProperties: false
      description: "Customs documentation details can be provided when creating `shipments` for which customs document(s) will\r\nbe required. This information should be created prior to allocation for documents to be generated\r\nsuccessfully."
    Weight:
      required:
        - unit
        - value
      type: object
      properties:
        value:
          type: number
          description: The value of weight in the specified unit.
          format: double
        unit:
          type: string
          description: "The unit of weight.\r\n            \r\nMust be a valid weight unit (`kg`, `lbs`)"
      additionalProperties: false
      description: "The `weight` object is used to define the weight of items within a `shipment`. `Weight` contains both the\r\nvalues and the unit of measurement.\r\n            \r\n> Note: all values within a single `shipment` must be the same, i.e. you cannot combine `weight_unit` values\r\nwithin a single `shipment`."
    Dimensions:
      required:
        - height
        - length
        - unit
      type: object
      properties:
        length:
          type: number
          description: "The length in the specified unit.\r\n            \r\n> Note: length should be the _longest_ of the three dimensions provided. **Sorted will re-arrange dimensions\r\nif your request does not follow this rule.**"
          format: double
        height:
          type: number
          description: The height in the specified unit.
          format: double
        width:
          type: number
          description: The width in the specified unit.
          format: double
        unit:
          minLength: 1
          type: string
          description: 'The unit of these dimensions (`cm`, `in`).'
      additionalProperties: false
      description: "The `dimensions` object is used to specify the dimensions of the contents of a `shipment`. The `dimensions`\r\nobject contains both the individual dimensions and the unit of measurement."
    Value:
      required:
        - amount
        - currency
      type: object
      properties:
        amount:
          type: number
          description: "The amount in the specified unit.\r\n            \r\nMust be a valid positive decimal.\r\n            \r\n> Note: Values are saved by SortedPRO with a precision up to 5 decimal places only."
          format: double
        currency:
          minLength: 1
          type: string
          description: "The ISO code of the currency.\r\n            \r\nMust be a valid 3-letter ISO currency code (e.g. `GBP`, `USD`, `EUR`, `NZD`)"
        discount:
          type: number
          description: "Used to indicate the proportion of discount applied, if applicable. A value of `100` indicates a 100%\r\ndiscount.\r\n            \r\nIf provided, must be a valid decimal between `0` and `100` representing the percentage discount. For\r\nexample, `10.5` represents a discount of 10.5%."
          format: double
          nullable: true
      additionalProperties: false
      description: "This object represents the `value` of `contents` within a `shipment`. The value property includes both the\r\namount of the currency of the value."
    HazardClass:
      required:
        - code
      type: object
      properties:
        code:
          type: string
          description: "A composite code identifying an IATA hazard class, e.g. `2.3` (a toxic gas). Codes can also be partial, e.g.\r\n`3` (a flammable liquid).\r\n            \r\nMust be a recognised IATA hazard class code."
      additionalProperties: false
      description: 'The `hazard_class` object represents an IATA hazard class, for use in categorising dangerous goods.'
    DangerousGoods:
      type: object
      properties:
        id_number:
          maxLength: 50
          minLength: 1
          type: string
          description: The UN code / ID code of NA code of the contents.
          nullable: true
        proper_shipping_name:
          maxLength: 255
          type: string
          description: The proper shipping name for the goods.
          nullable: true
        technical_name:
          maxLength: 255
          type: string
          description: The technical name for the goods.
          nullable: true
        custom_label_text:
          maxLength: 255
          type: string
          description: Custom text to be displayed on labels for these goods.
          nullable: true
        hazard_classes:
          type: array
          items:
            $ref: '#/components/schemas/HazardClass'
          description: "The IATA hazard classes assigned to the contents.\r\n            \r\nEach entry must be a valid hazard class."
          nullable: true
        packing_group:
          type: string
          description: "The `packing_group` for the contents.\r\n            \r\nIf provided, must be a valid `packing_group` (`i` = \"high danger\", `ii` = \"medium danger\", `iii` = \"low\r\ndanger\"."
          nullable: true
        physical_form:
          type: string
          description: "The physical form of the goods.\r\n            \r\nIf provided, must be a valid `physical_form` (`gas`, `liquid`, `solid`, `other`)"
          nullable: true
        radioactivity:
          type: string
          description: "The radioactivity of the goods.\r\n            \r\nIf provided, must be a valid `radioactivity` value (`none`, `surface_reading`, `transport_index`,\r\n`criticality_safety_index`)"
          nullable: true
        accessibility:
          type: string
          description: "The accessibility of the goods.\r\n            \r\nIf provided, must be a valid `accessibility` value (`accessible`, `inaccessible`)"
          nullable: true
      additionalProperties: false
      description: "The `dangerous_goods` object is used to provide details of dangerous or hazardous contents. Not all carriers\r\nwill carry all goods and providing details of dangerous goods could preclude certain carriers from being\r\nable to quote for a specific `shipment`."
    LabelProperty:
      required:
        - key
        - value
      type: object
      properties:
        key:
          maxLength: 50
          minLength: 1
          type: string
          description: The key of the property - this is used to identify this specific property in any dependent logic.
        value:
          maxLength: 500
          minLength: 1
          type: string
          description: The value of this property.
      additionalProperties: false
      description: "The `label_property` object is used to provide additional properties to be placed on a label. SortedPRO\r\nsupports custom label decorators which utilise additional label space to add fields and text. The\r\n`label_property` object is used to provide this information. The specific keys and values should be agreed\r\nbetween customers and account managers as part of the on-boarding process."
    ShipmentContents:
      required:
        - value
      type: object
      properties:
        reference:
          type: string
          description: "The unique reference generated by Sorted.\r\n            \r\nNot applicable for requests to create `shipments`."
          nullable: true
        custom_reference:
          maxLength: 50
          minLength: 1
          type: string
          description: The customer's own reference for these contents.
        package_size_reference:
          maxLength: 50
          type: string
          description: "The reference of an existing pre-defined package size within SortedPRO. If provided, `weight` and\r\n`dimensions` are not required.\r\n            \r\nIf provided, must be a valid reference for an existing package size within your account."
          nullable: true
        weight:
          $ref: '#/components/schemas/Weight'
        dimensions:
          $ref: '#/components/schemas/Dimensions'
        value:
          $ref: '#/components/schemas/Value'
        sku:
          maxLength: 50
          minLength: 1
          type: string
          description: The stock-keeping unit (SKU) of the contents.
        description:
          maxLength: 100
          type: string
          description: "A description of the contents.\r\n            \r\nThis is used for display purposes and inclusion in customs documentation."
          nullable: true
        model:
          maxLength: 50
          minLength: 1
          type: string
          description: The model of the contents.
        country_of_origin:
          type: string
          description: "The 3-letter ISO code representing the country of origin of the contents.\r\n            \r\nIf provided, must be a valid 2-letter country ISO code (e.g. `US`, `GB`, `DE`, etc.)"
          nullable: true
        harmonisation_code:
          maxLength: 25
          type: string
          description: "The harmonisation code for the contents.\r\n            \r\nIf provided, must be a valid format of harmonisation code e.g. `09.02.10`."
          nullable: true
        shipping_terms:
          type: string
          description: "The `shipping_terms` according to the [Incoterms](https://en.wikipedia.org/wiki/Incoterms) rules.\r\nMust be a valid value ('exw`, `fca`, `cpt`, `cip`, `dat`, `dap`, `ddp`, `fas`, `fob`, `cfr`, `cif`, `ddu`)"
          nullable: true
        quantity:
          type: integer
          description: "The quantity of contents.\r\n            \r\nIf not provided, will default to 1. Must be a valid positive integer."
          format: int32
        unit:
          maxLength: 50
          minLength: 1
          type: string
          description: 'The unit of packing of the contents, e.g. "box"'
        dangerous_goods:
          $ref: '#/components/schemas/DangerousGoods'
        metadata:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/Metadata'
          description: "Additional properties to apply to the contents. Additional functionality can be linked to properties\r\nspecified in `metadata`."
          nullable: true
        label_properties:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/LabelProperty'
          description: Values to be used in the generation or decoration of labels at contents level.
          nullable: true
        contents:
          type: array
          items:
            $ref: '#/components/schemas/ShipmentContents'
          description: "The contents of these contents, if applicable.\r\n            \r\nIf provided, a maximum \"depth\" of 2 is permitted, i.e. `shipment_contents` can contain `shipment_contents`,\r\nbut those `shipment_contents` cannot additionally contain `shipment_contents`."
          nullable: true
      additionalProperties: false
      description: "All `shipments` in SortedPRO require _at least one_ `shipment_contents` object. This object represents\r\nthe contents of the `shipment`. For example, a `shipment` of pair of shoes will contain will contain one\r\n`shipment_contents` object which defines the properties of the pair of shoes (e.g. `dimensions`, `weight`, etc.)"
    ContactDetails:
      required:
        - email
      type: object
      properties:
        landline:
          maxLength: 100
          minLength: 1
          type: string
          description: "The landline telephone number of the `contact`.\r\n            \r\nAt least one of `landline` and/or `mobile` **must** be provided."
        mobile:
          maxLength: 100
          minLength: 1
          type: string
          description: "The mobile telephone number of the `contact`.\r\n            \r\nAt least one of `landline` and/or `mobile` **must** be provided."
        email:
          maxLength: 255
          minLength: 1
          type: string
          description: "The email address of the contact.\r\n            \r\nMust be a valid email address format."
      additionalProperties: false
      description: "The `contact_details` object is used to capture details used to contact a person, such as telephone number(s) or\r\nemail addresses."
    Contact:
      required:
        - contact_details
        - first_name
        - last_name
      type: object
      properties:
        reference:
          maxLength: 50
          minLength: 1
          type: string
          description: 'Your own reference for this `contact`, if applicable.'
        title:
          maxLength: 50
          minLength: 1
          type: string
          description: 'The title or salutation of the `contact` (e.g. `Mr`, `Mrs`, `Seor`).'
        first_name:
          maxLength: 100
          minLength: 1
          type: string
          description: The first name / forename of the `contact`.
        last_name:
          maxLength: 100
          minLength: 1
          type: string
          description: The last name / surname of the `contact`.
        middle_name:
          maxLength: 100
          minLength: 1
          type: string
          description: 'The middle name(s) of the `contact`, if applicable.'
        position:
          maxLength: 100
          minLength: 1
          type: string
          description: 'The position / job title of the `contact`, if applicable.'
        contact_details:
          $ref: '#/components/schemas/ContactDetails'
      additionalProperties: false
      description: "An `address` must always include a `contact`, except when the `address` utilises a pre-defined shipping\r\nlocation (which already has a `contact` defined). When providing a `shipping_location_reference` you may\r\nexclude the `contact` property, in which case the `address` will inherit the `contact` from the shipping\r\nlocation. However, you may also provide a `shipping_location_reference` _and_ a `contact`, in which case the\r\nprovided `contact` will supersede the `contact` from the shipping location, for the specific `shipment` only."
    LatLong:
      required:
        - latitude
        - longitude
      type: object
      properties:
        latitude:
          maximum: 180
          minimum: -180
          type: number
          description: "The latitude value, e.g. `51.5014`.\r\n            \r\nMust be a valid latitude value (`-90` to `+90`)"
          format: double
        longitude:
          maximum: 90
          minimum: -90
          type: number
          description: "The longitude value, e.g. `0.1246`/\r\n            \r\nMust be a valid longitude value (`-180` to `+180`)"
          format: double
      additionalProperties: false
      description: "The `lat_long` property is used to capture the latitude and longitude of an `address`, if applicable. Although\r\nindividual properties can be set to zero, `0,0` is **not** a valid value for the object."
    Reservation:
      type: object
      properties:
        reference:
          type: string
          description: "The unique reference generated by Sorted for this reservation.\r\n            \r\nThis is not applicable to requests to create `shipments`."
          nullable: true
        location_reference:
          type: string
          description: The reference of the location.
          nullable: true
        external_reference:
          type: string
          description: "The external reference of this reservation, e.g. the reference provided by the carrier for the\r\nreservation booking."
          nullable: true
      additionalProperties: false
      description: "The `reservation` property is used by Sorted internally to store reservation information for a `pickup_location`.\r\nThis will be used where a pick-up location has to be reserved in advance."
    Address:
      required:
        - address_line1
        - address_type
        - country_iso_code
      type: object
      properties:
        address_type:
          minLength: 1
          type: string
          description: "The type of address (e.g. `origin`, `destination`, `return`, `sender`, `recipient`, `importer`,\r\n`exporter`, `billing`).\r\n            \r\nOnly one address of each type may be included in any `shipment`. Additionally, `importer` and `exporter`\r\naddresses are mutually exclusive within a single `shipment`."
        shipping_location_reference:
          maxLength: 50
          type: string
          description: "Used to reference a pre-defined shipping location. This property is _required_ for `scheduled` `shipments`\r\nbut is optional for `on_demand` `shipments`. I.e. for `scheduled` `shipments` at least _one_ of `origin` or\r\n`destination` must reference an existing shipping location (normally the `origin` address)."
          nullable: true
        custom_reference:
          maxLength: 50
          type: string
          description: 'Your own reference for this address, if applicable.'
          nullable: true
        contact:
          $ref: '#/components/schemas/Contact'
        company_name:
          maxLength: 100
          type: string
          description: 'The name of the company, if applicable.'
          nullable: true
        property_number:
          maxLength: 50
          minLength: 1
          type: string
          description: 'The number of the property, if applicable.'
        property_name:
          maxLength: 50
          minLength: 1
          type: string
          description: 'The name of the property, if applicable.'
        address_line1:
          maxLength: 255
          minLength: 1
          type: string
          description: "The first line of the address.\r\n            \r\nRequired _unless_ `shipping_location_reference` is provided."
        address_line2:
          maxLength: 255
          minLength: 1
          type: string
          description: The second line of the address.
        address_line3:
          maxLength: 255
          minLength: 1
          type: string
          description: The third line of the address.
        locality:
          maxLength: 255
          minLength: 1
          type: string
          description: 'The locality of the address. This may be, for example, a city or town.'
        region:
          type: string
          description: "The region of the address. This could be a county (in the UK) or a state (in the US) for example.\r\n            \r\nThis property is _required_ for some countries, e.g. `US`, `CA`, `IE`, `AU`. If provided for a required\r\ncountry, Sorted will accept either official abbreviations of full names and will convert between values\r\nas required. For example, the values `AL` or `Alabama` would be accepted for the country `US`."
          nullable: true
        postal_code:
          type: string
          description: "The postal code / zip code of the address.\r\n            \r\nThis property is required for countries with official postal code systems. The provided `postal_code` must\r\nbe in a valid format for the country."
          nullable: true
        country_iso_code:
          maxLength: 2
          minLength: 2
          type: string
          description: "The `ISO 3166 Alpha 2` code for the country of the location.\r\n            \r\nThe value provided must be exactly 2 characters and must be a valid country ISO code."
        lat_long:
          $ref: '#/components/schemas/LatLong'
        reservation:
          $ref: '#/components/schemas/Reservation'
        national_address:
          type: string
          description: "The national address.\r\n            \r\nThis property is required for certain countries/territories e.g. Saudi Arabia (`SA`)"
          nullable: true
        special_instructions:
          maxLength: 150
          type: string
          description: Special instructions for the address.
          nullable: true
      additionalProperties: false
      description: "The details of an address. Each `shipment` must have at least 2 address; one of type `origin` and one of type\r\n`destination`. Other `address_types` are optional.\r\n            \r\n> Note: It is only possible to provide at most one of each type of address (e.g. 1 origin address only)."
    CreateShipmentRequest:
      required:
        - addresses
        - contents
        - direction
        - shipment_type
      type: object
      properties:
        custom_reference:
          maxLength: 50
          type: string
          description: A custom reference provided by the customer.
          nullable: true
        required_delivery_date:
          $ref: '#/components/schemas/DateRange'
        required_shipping_date:
          $ref: '#/components/schemas/DateRange'
        tags:
          maxItems: 10
          type: array
          items:
            type: string
          description: "Custom tags to apply to the `shipment`\r\n            \r\nIf provided, each `tag` is limited to 50 characters. There is a limit of 10 tags per `shipment`"
          nullable: true
        order_date:
          type: string
          description: "The date that the items in the `shipment` were ordered.\r\nThis can be used to tracking `shipments` vs order dates in customers' own systems.\r\n            \r\nIf provided, must be a valid `ISO8601` date time, including offset. Sorted will _not_ validate the logic\r\nof the date value compared to other relevant dates."
          format: date-time
          nullable: true
        metadata:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/Metadata'
          description: "Addition properties to apply to a `shipment`. Additional functionality can be linked to properties\r\nspecified in `metadata`."
          nullable: true
        customs_documentation:
          $ref: '#/components/schemas/CustomsDocumentation'
        direction:
          type: string
          description: 'Indicates the `direction` of the `shipment`, e.g. `outbound`, `inbound`'
        shipment_type:
          minLength: 1
          type: string
          description: 'Indicates the type of `shipment`, e.g. `scheduled`, `on_demand`'
        contents:
          minItems: 1
          type: array
          items:
            $ref: '#/components/schemas/ShipmentContents'
          description: "The contents of the `shipment`\r\n            \r\nAt least one `shipment_contents` is required."
        addresses:
          minItems: 2
          type: array
          items:
            $ref: '#/components/schemas/Address'
          description: "The addresses for this `shipment`.\r\n            \r\nMust contain at least an `origin` and a `destination` address. Only one of each type of address may be\r\nprovided."
        label_properties:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/LabelProperty'
          description: Values to be used in the generation or decoration of labels.
          nullable: true
        source:
          maxLength: 50
          type: string
          description: "Indicates the source of the `shipment`.\r\n            \r\nIf not provided, will default to `api`. If provided, a maximum length of 50 characters is permitted."
          nullable: true
        tenant:
          maxLength: 50
          type: string
          description: 'The `tenant` that the `shipment` is linked to, if applicable.'
          nullable: true
        channel:
          maxLength: 50
          type: string
          description: "The `channel` that the `shipment` is linked to, if applicable.\r\n            \r\n> Note: Must only be provided when `tenant` is also provided and contains a valid `tenant` identifier."
          nullable: true
      additionalProperties: false
      description: "A `shipment` is a collection of one or more packages sent together from a single `origin` address to a single\r\n`destination` address. A `create_shipment_request` is used to create a new `shipment` or to create `quotes`\r\nfor a `shipment` that does not yet exist within SortedPRO."
    ShipmentSummary:
      required:
        - addresses
        - reference
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: The unique reference for this `shipment`
        addresses:
          maxItems: 7
          minItems: 2
          type: array
          items:
            $ref: '#/components/schemas/Address'
          description: The `addresses` relating to this `shipment`
        custom_reference:
          type: string
          description: The custom reference applied by the customer for this `shipment`
          nullable: true
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: 'Provides `links` to related resources, such as the `shipment` object'
          nullable: true
      additionalProperties: false
      description: "A `shipment_summary` is returned in a `quote` and provides summary details of the `shipment` that a `quote`\r\nrelates to"
    ApplicationType:
      enum:
        - none
        - standard
        - retrospective
      type: string
      description: "The `application_type` identifies how a surcharge value is applied when calculating the price of the\r\nservice for a `shipment`."
    SurchargeType:
      enum:
        - additive
        - variable
      type: string
      description: Represents the type of `surcharge` which determines how a final surcharge value is determined.
    BaseApplication:
      required:
        - base
        - base_only
      type: object
      properties:
        base:
          type: boolean
          description: Indicates whether this surcharge applies to the `base` cost.
        base_only:
          type: boolean
          description: "Indicates whether this surcharge applies to the `base` cost _only_. This should never be `true` if `base`\r\nis `false`."
      additionalProperties: false
      description: "The `base_application` object provides details of whether the value of a `surcharge` applies to the base price\r\nand, if so, whether it applies to the base price _only_ or to the base price _and_ the combined value of other\r\napplicable surcharges."
    CalculationModel:
      enum:
        - fixed
        - calculated
      type: string
      description: The `calculation_model` determines the model for how the value of a `surcharge` is calculated.
    Surcharge:
      required:
        - application_type
        - base_application
        - calculation_model
        - currency
        - description
        - label
        - reference
        - type
        - value
      type: object
      properties:
        reference:
          type: string
          description: The unique reference for this surcharge.
        currency:
          maxLength: 3
          minLength: 3
          type: string
          description: The 3-character ISO code for the currency of this `surcharge`
        value:
          type: number
          description: The value of this `surcharge` in the applied `currency`.
          format: double
        application_type:
          $ref: '#/components/schemas/ApplicationType'
        type:
          $ref: '#/components/schemas/SurchargeType'
        base_application:
          $ref: '#/components/schemas/BaseApplication'
        calculation_model:
          $ref: '#/components/schemas/CalculationModel'
        incremental_unit_factor:
          type: number
          description: 'The incremental unit factor applied when calculating the `surcharge`, if applicable.'
          format: double
          nullable: true
        incremental_unit_price:
          type: number
          description: 'The incremental unit price applied when calculating the `surcharge`, if applicable.'
          format: double
          nullable: true
        minimum_value:
          type: number
          description: 'The minimum value of this `surcharge`, if applicable'
          format: double
          nullable: true
        maximum_value:
          type: number
          description: 'The maximum value of this `surcharge`, if applicable'
          format: double
          nullable: true
        label:
          type: string
          description: A plain-text label for this `surcharge`
        description:
          type: string
          description: A plain-text description for this `surcharge`
      additionalProperties: false
      description: "A `surcharge` can be applied when generating a `quote` for a carrier service. There are many types of\r\n`surcharge` applied by carriers and this object provides details of any applicable `surcharges` applied when\r\ncalculating to total `price` for a specific carrier service."
    Quote:
      required:
        - carrier
        - collection_date
        - created
        - delivery_date
        - expires
        - price
        - reference
        - shipment_reference
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: A unique reference for this `quote`. This is used when allocating with a `quote`.
        shipment_reference:
          maxLength: 35
          minLength: 35
          type: string
          description: "The reference of the `shipment` that this `quote` relates to. It is not possible to allocate a `shipment`\r\nwith a `quote` for another `shipment`."
        carrier:
          $ref: '#/components/schemas/CarrierDetails'
        collection_date:
          $ref: '#/components/schemas/DateRange'
        delivery_date:
          $ref: '#/components/schemas/DateRange'
        price:
          $ref: '#/components/schemas/Price'
        surcharges:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Surcharge'
          description: Details of any applicable `surcharge(s)` for this `quote`.
          nullable: true
        created:
          type: string
          description: The date and time that this `quote` was created.
          format: date-time
        expires:
          type: string
          description: "The date and time that this `quote` expires. Once a `quote` has expired, it can no longer be used for\r\nallocation."
          format: date-time
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Links to any other related resources.
          nullable: true
      additionalProperties: false
      description: "A `quote` contains details of the carrier and service that have been confirmed as being capable of handling\r\nthe `shipment`."
    QuoteResult:
      required:
        - message
        - reference
        - shipment
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: A unique reference for this collection of quotes.
        message:
          type: string
          description: A plain-text message providing a summary of the results.
        shipment:
          $ref: '#/components/schemas/ShipmentSummary'
        quotes:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Quote'
          description: 'Details of the carrier(s), service(s), and price(s)'
          nullable: true
        excluded_services:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/ExcludedService'
          description: 'Details of active services within your account that could not provide a `quote`, including reasons.'
          nullable: true
      additionalProperties: false
      description: A `quote_result` is returned when you request `quotes` for a `shipment`.
    CreateShipmentGroupRequest:
      required:
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 10000
          minItems: 1
          type: array
          items:
            type: string
          description: Must contain at least one valid `shipment` reference. All references included must be valid existing `shipment` references. All `shipments` must be in a valid `state`.
        custom_reference:
          maxLength: 50
          minLength: 5
          type: string
          description: 'Optional. If provided, the reference must be unique within your account for open `shipment_groups`. You cannot have multiple open `shipment_groups` with the same `custom_reference`.'
          nullable: true
      additionalProperties: false
      description: This object is used to create a new `shipment_group`.
    ShipmentGroupResponse:
      required:
        - reference
      type: object
      properties:
        errors:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/ApiErrorMessage'
          description: Any error(s) relating to the operation
          nullable: true
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: The unique reference for this resource generated by Sorted at the point of creation.
        custom_reference:
          type: string
          description: 'Your own custom reference for this object, if applicable.'
          nullable: true
        message:
          type: string
          description: An optional message relating to the result of the operation.
          nullable: true
        version:
          type: integer
          description: 'An optional version for this resource, if applicable.'
          format: int32
          nullable: true
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: 'Links to the current resource and any related resources, if applicable.'
          nullable: true
      additionalProperties: false
      description: Provides details of the result of an operation relating to a `shipment_group`
    UpdateShipmentGroupRequest:
      required:
        - reference
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 0
          type: string
          description: The `reference` of the `shipment_group` to update. Must be a valid reference for an existing `shipment_group`.
        add_shipments:
          maxItems: 10000
          minItems: 1
          type: array
          items:
            type: string
          description: "Optional. If provided, must contain at least 1 valid existing `shipment` reference that is not currently a member of the `shipment_group`\r\nand is not a member of any other _open_ `shipment_group`."
          nullable: true
        remove_shipments:
          maxItems: 10000
          minItems: 1
          type: array
          items:
            type: string
          description: 'Optional. If provided, must contain at least 1 valid existing `shipment` reference that _is currently a member_ of the `shipment_group`.'
          nullable: true
      additionalProperties: false
      description: This object is used to update an existing `shipment_group`
    Allocation:
      required:
        - allocation_date
        - carrier
        - price
      type: object
      properties:
        carrier:
          $ref: '#/components/schemas/CarrierDetails'
        allocation_date:
          type: string
          description: The date and time at which this allocation was created.
          format: date-time
        price:
          $ref: '#/components/schemas/Price'
        tracking_details:
          $ref: '#/components/schemas/TrackingDetails'
        _links:
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Links to related resources such as labels
          nullable: true
      additionalProperties: false
      description: "The `allocation` object provides details of the active allocation for a `shipment`, if applicable. A `shipment`\r\nwill only have an _active_ allocation when it has been allocated to a carrier service for delivery or\r\ncollection. Any `shipment` that has not yet been allocated will have a `null` value for allocation."
    LabelDetails:
      required:
        - retrieval_count
      type: object
      properties:
        date_first_retrieved:
          type: string
          description: 'The date and time that the label was first retrieved, if applicable.'
          format: date-time
          nullable: true
        retrieval_count:
          type: integer
          description: The number of times that the label for this allocation has been retrieved.
          format: int32
        _links:
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: 'Links to related resources, such as a link to the label'
          nullable: true
      additionalProperties: false
      description: The `label_details` object provides details of label retrieval.
    Direction:
      enum:
        - outbound
        - inbound
      type: string
      description: "The `direction` property of a `shipment` indicates whether the `shipment` is intended to be sent _to_ a\r\nconsumer or received _by_ a consumer.\r\n            \r\nGenerally, a return will have a `direction` of `inbound` and all other `shipments` will have a `direction` of\r\n`outbound`.\r\n            \r\nIf not provided, the `direction` property will always default to `outbound`."
    ShipmentType:
      enum:
        - scheduled
        - on_demand
      type: string
      description: "The `shipment_type` property indicates whether the `shipment` is intended to be allocated with a on-demand\r\nservice (`on_demand`) or with a scheduled service (`scheduled`) or either.\r\n            \r\nGenerally, warehouse-based operations will utilise `scheduled` `shipments` only."
    PaperlessDocumentState:
      enum:
        - document_created
        - pending
        - processing
        - ready
        - virus_found
        - quarantined
        - removed
      type: string
      description: Represents the current state of a `paperless_document`
    PaperlessDocumentType:
      enum:
        - commercial_invoice
        - certificate_of_origin
        - nafta_certificate_of_origin
        - pro_forma_invoice
        - authorisation_form
        - export_document
        - export_licence
        - import_permit
        - power_of_attorney
        - packing_list
        - sed_document
        - letter_of_instruction
        - customs_declaration
        - air_waybill
        - invoice
        - other
      type: string
      description: Represents the type of a `paperless_document`
    PaperlessFileFormat:
      enum:
        - pdf
        - png
        - jpg
        - gif
      type: string
      description: Represents the format of a `paperless_document`
    PaperlessDocumentUsage:
      enum:
        - electronic_trade
        - customer_information
        - pricing
      type: string
      description: Describes how paperless documents will be used
    PaperlessDocument:
      required:
        - document_state
        - document_type
        - file_format
      type: object
      properties:
        document_reference:
          type: string
          description: A unique reference for the document generated by Sorted.
          nullable: true
        document_state:
          $ref: '#/components/schemas/PaperlessDocumentState'
        document_type:
          $ref: '#/components/schemas/PaperlessDocumentType'
        file_format:
          $ref: '#/components/schemas/PaperlessFileFormat'
        usage:
          $ref: '#/components/schemas/PaperlessDocumentUsage'
        expiration:
          type: string
          description: 'The date and time that the document expires, if applicable.'
          format: date-time
      additionalProperties: false
      description: "This object allows a customer to supply documents when creating `shipments`.\r\n            \r\nThe intention of allowing customers to supply documents is to allow original copies of documents such as\r\ncertificates of conformity to be supplied to carriers in a paperless trade flow.\r\n            \r\nNote: not all carriers support paperless trade."
    Shipment:
      required:
        - addresses
        - contents
        - created
        - direction
        - reference
        - shipment_type
        - source
        - state
      type: object
      properties:
        reference:
          type: string
          description: "The reference assigned by Sorted for this `shipment`. This will be unique for all shipments and will be in\r\nthe format `sp_[0-9]{32}` e.g. `sp_00869674326844799393722231947268`"
        state:
          $ref: '#/components/schemas/ShipmentState'
        created:
          type: string
          description: The date and time that the `shipment` was originally created
          format: date-time
        updated:
          type: string
          description: 'The date and time that the `shipment` was last updated, if applicable.'
          format: date-time
          nullable: true
        shipping_date:
          $ref: '#/components/schemas/DateRange'
        required_shipping_date:
          $ref: '#/components/schemas/DateRange'
        expected_delivery_date:
          $ref: '#/components/schemas/DateRange'
        required_delivery_date:
          $ref: '#/components/schemas/DateRange'
        actual_delivery_date:
          type: string
          description: 'The actual date and time that the `shipment` was delivered, if applicable.'
          format: date-time
          nullable: true
        allocation:
          $ref: '#/components/schemas/Allocation'
        label_details:
          $ref: '#/components/schemas/LabelDetails'
        custom_reference:
          maxLength: 50
          minLength: 1
          type: string
          description: 'The custom reference provided for this `shipment`, if applicable.'
          nullable: true
        tags:
          maxItems: 10
          type: array
          items:
            type: string
          description: 'The tags provided for this `shipment`, if applicable.'
          nullable: true
        order_date:
          type: string
          description: 'The order date for this `shipment`, if applicable.'
          format: date-time
          nullable: true
        metadata:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/Metadata'
          description: 'The `metadata` for this `shipment`, if applicable.'
          nullable: true
        customs_documentation:
          $ref: '#/components/schemas/CustomsDocumentation'
        direction:
          $ref: '#/components/schemas/Direction'
        shipment_type:
          $ref: '#/components/schemas/ShipmentType'
        contents:
          minItems: 1
          type: array
          items:
            $ref: '#/components/schemas/ShipmentContents'
          description: The contents of the `shipment`
        addresses:
          minItems: 2
          type: array
          items:
            $ref: '#/components/schemas/Address'
          description: "The `addresses` for this `shipment`. Must contain at least an `origin` address _and_ a `destination`\r\naddress."
        label_properties:
          maxItems: 10
          type: array
          items:
            $ref: '#/components/schemas/LabelProperty'
          description: Additional properties used to render or decorate labels.
          nullable: true
        source:
          type: string
          description: "The source of the `shipment`.\r\n            \r\nWill default to `api` if not provided when the `shipment` was created."
        reservation:
          $ref: '#/components/schemas/Reservation'
        paperless_documents:
          type: array
          items:
            $ref: '#/components/schemas/PaperlessDocument'
          description: Provides details of `paperless_documents` that apply to this `shipment`
          nullable: true
        _links:
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: Links to any related resources.
          nullable: true
        tenant:
          maxLength: 50
          type: string
          description: 'The `tenant` that the `shipment` is linked to, if applicable.'
          nullable: true
        channel:
          maxLength: 50
          type: string
          description: 'The `channel` that the `shipment` is linked to, if applicable.'
          nullable: true
      additionalProperties: false
      description: "A `shipment` is created using a `create_shipment_request` and Sorted will then conduct all operations on the\r\n`shipment` object."
    ContentType:
      enum:
        - pdf
        - zpl
      type: string
      description: The supported document content types
    DocumentType:
      enum:
        - other
        - label
        - cn22
        - cn23
        - commercial_invoice
        - collection_note
        - hazard_label
      type: string
      description: Represents the document types recognised by Sorted
    Document:
      required:
        - content_type
        - document_type
        - dpi
        - file
      type: object
      properties:
        file:
          type: string
          description: The contents of the file encoded in base64
        content_type:
          type: string
          description: 'The format of the document (`application/pdf`, `text/plain`)'
        document_type:
          $ref: '#/components/schemas/DocumentType'
        dpi:
          type: integer
          description: The DPI of the document (e.g. `203`)
          format: int32
      additionalProperties: false
      description: This object represents a single document.
    Manifest:
      required:
        - created
        - reference
        - shipments
      type: object
      properties:
        reference:
          type: string
          description: The unique reference for this `manifest` generated by Sorted
        shipments:
          minItems: 1
          type: array
          items:
            type: string
          description: Provides the references of the `shipments`
        created:
          type: string
          description: The date and time that the `manifest` was created.
          format: date-time
      additionalProperties: false
      description: "The `manifest` object contains details of a collection of `shipments` that were manifested in a single\r\noperation. This can be as a result of manifesting by query, manifesting by an explicit list of `shipment`\r\nreferences, manifesting by `shipment_group`, or by automatic manifest operation."
    ShipmentGroupState:
      enum:
        - open
        - locked
        - closed
      type: string
      description: Represents the current state of a `shipment_group`.
    ShipmentGroup:
      required:
        - created
        - reference
        - state
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: The unique reference for this `shipment_group` generated by Sorted
        shipments:
          maxItems: 10000
          minItems: 1
          type: array
          items:
            type: string
          description: The references of the `shipments` in this group
          nullable: true
        custom_reference:
          maxLength: 50
          minLength: 1
          type: string
          description: The `custom_reference` applied to this `shipment_group` (if applicable)
          nullable: true
        version:
          type: integer
          description: The version related to the `custom_reference` for this `shipment_group`
          format: int32
        state:
          $ref: '#/components/schemas/ShipmentGroupState'
        created:
          type: string
          description: The date and time that this `shipment_group` was created
          format: date-time
        locked:
          type: string
          description: "The date and time that this `shipment_group` was locked, if applicable.\r\n            \r\n> Note: a value of `null` indicates that this group has not been locked."
          format: date-time
          nullable: true
        closed:
          type: string
          description: "The date and time that this `shipment_group` was closed, if applicable.\r\n            \r\n> Note: a value of `null` indicates that this group has not been closed."
          format: date-time
          nullable: true
      additionalProperties: false
      description: "A `shipment_group` is used to group together `shipments` booked with the same carrier service. This object is\r\nused to manage a `shipment_group` that has already been created."
    ManifestResult:
      required:
        - carrier
        - message
        - reference
        - state
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: A unique reference for this manifest.
        carrier:
          $ref: '#/components/schemas/CarrierDetails'
        message:
          type: string
          description: A plain-text message providing details of the result.
        state:
          $ref: '#/components/schemas/ShipmentState'
        shipment_count:
          type: integer
          description: The number of `shipments` identified to be manifested.
          format: int32
        _links:
          minItems: 0
          type: array
          items:
            $ref: '#/components/schemas/Link'
          description: 'A list of related resources, if applicable.'
          nullable: true
      additionalProperties: false
      description: "A `manifest_result` provides details of the result of a manifest operation for a single `shipment`. Multiple\r\n`manifest_results` are returned as part of a `manifest_response`."
    ManifestResponse:
      required:
        - manifest_results
      type: object
      properties:
        manifest_results:
          minItems: 1
          type: array
          items:
            $ref: '#/components/schemas/ManifestResult'
          description: Details of the manifest operation for each `shipment` in the request.
      additionalProperties: false
      description: "A `manifest_response` is returned when a request is made to manifest one or more `shipments`. The\r\n`manifest_result` objects within the response will be grouped by carrier or carrier service."
    ManifestRequest:
      required:
        - shipments
      type: object
      properties:
        shipments:
          maxItems: 100
          minItems: 1
          type: array
          items:
            type: string
          description: "References of one or more `shipments` to manifest.\r\n            \r\nMust include 1 or more valid existing `shipment` references. A maximum of 100 `shipments` can be manifested\r\nat once using this method."
      additionalProperties: false
      description: "A `manifest_request` is used to manually manifest one or more `shipments` that are in a valid `state` to be\r\nmanifested with the carrier."
    ShipmentStateChangeRequest:
      required:
        - reason
        - reference
        - state
      type: object
      properties:
        reference:
          maxLength: 35
          minLength: 35
          type: string
          description: "The reference of the `shipment` to change.\r\n            \r\nMust be a valid `shipment` reference for an existing `shipment`."
        state:
          type: string
          description: The desired `shipment_state` to transition to.
        reason:
          maxLength: 100
          minLength: 5
          type: string
          description: The reason for the change. This forms part of the `shipment's` audit history.
      additionalProperties: false
      description: "A `shipment_state_change_request` can be used to modify the `state` of a `shipment` manually. Only certain\r\n`state` transitions are permitted. This functionality should be used in exceptional circumstances when Sorted\r\nis unable to transition a `state` automatically (e.g. due to unavailable tracking details)"
  securitySchemes:
    API Key:
      type: apiKey
      name: x-api-key
      in: header
security:
  - API Key: [ ]